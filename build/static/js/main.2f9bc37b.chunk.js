(this["webpackJsonpipfs-previewer"]=this["webpackJsonpipfs-previewer"]||[]).push([[0],{303:function(e,t,n){e.exports=n(648)},308:function(e,t,n){},315:function(e,t,n){},337:function(e,t){},339:function(e,t){},368:function(e,t){},369:function(e,t){},413:function(e,t){},415:function(e,t){},438:function(e,t){},648:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(58),i=n.n(o),c=(n(308),n(75)),l=n.n(c),s=n(69),u=n(70),m=n(71),p=n(72),d=n(44),h=n(74),f=n(659),g=n(649),w=n(656),v=n(661),E=n(59),k=n(657),b=n(658),y=n(282),C=n.n(y),j=(n(315),n(283)),S=n.n(j),x=n(34),R=n.n(x),J=n(284),O=function(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=R.a.parse(e),n.abrupt("return",S.a.get(e).then((function(e){return Object(J.parse)(e).querySelector("table").querySelectorAll("tr").filter((function(e){return e.text.toUpperCase().includes("RJ")||e.text.toUpperCase().includes("RE")})).map((function(e){var n=e.querySelector("a"),a=e.querySelectorAll("td");return{code:n.text.split(" ")[0].replace("RE","RJ"),name:n.text,link:t.protocol+"//"+t.host+n.attributes.href,size:a[a.length-1].text}}))})).catch((function(e){console.log(e)})));case 2:case"end":return n.stop()}}))},D=function(e){for(var t=[],n=0;n<e.length;++n){var a=q(e[n].code.substring(2,e[n].code.length));t.push({name:e[n].name,download:e[n].link,size:e[n].size,linkJp:"http://www.dlsite.com/maniax/work/=/product_id/"+e[n].code+".html",linkEn:"http://www.dlsite.com/ecchi-eng/work/=/product_id/"+e[n].code.replace("RJ","RE")+".html",imagePath:["http://img.dlsite.jp/modpub/images2/work/doujin/RJ"+a+"/"+e[n].code+"_img_main.jpg","http://img.dlsite.jp/modpub/images2/work/doujin/RE"+a+"/"+e[n].code.replace("RJ","RE")+"_img_main.jpg"]})}return t};function q(e){return e=parseInt(e),e=function(e,t){var n=e.toString();for(;n.length<t;)n="0"+n;return n}(e=1e3*Math.ceil(e/1e3),6)}function I(e){var t=e.items.map((function(e){return r.a.createElement(f.a,null,r.a.createElement(C.a,{src:e.image,unloader:e.brokenImage,className:"ui image"}),r.a.createElement(f.a.Content,null,r.a.createElement(f.a.Header,null,e.header),r.a.createElement(f.a.Meta,null,e.meta)),r.a.createElement(f.a.Content,{extra:!0},r.a.createElement(g.a.Group,{fluid:!0},r.a.createElement(g.a,{onClick:function(){window.open(e.rjSite)},content:"RJ"}),r.a.createElement(g.a,{onClick:function(){window.open(e.reSite)},content:"RE"}),r.a.createElement(g.a,{content:"Download",onClick:function(){window.open(e.download)},primary:!0}))))}));return r.a.createElement(f.a.Group,{centered:!0,className:"display"},t)}var _=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={value:"https://cloudflare-ipfs.com/ipfs/QmfXScx6H6M4TW1SqZ14qcZR3Gay6wfck8dHCs3Bio2CzU",items:[]},n.onChange=n.onChange.bind(Object(d.a)(n)),n.onDisplay=n.onDisplay.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onChange",value:function(e){this.setState({value:e.target.value})}},{key:"onDisplay",value:function(e){var t,n;return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(O(this.state.value));case 2:return t=e.sent,e.next=5,l.a.awrap(D(t));case 5:n=e.sent,this.setState({items:this.parseCodeToImageMeta(n)});case 7:case"end":return e.stop()}}),null,this)}},{key:"parseCodeToImageMeta",value:function(e){return e.map((function(e){return{header:e.name,meta:e.size,image:e.imagePath,brokenImage:"https://react.semantic-ui.com/images/wireframe/image.png",rjSite:e.linkJp,reSite:e.linkEn,download:e.download}}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w.a,null,r.a.createElement(v.a,{as:"h2",icon:!0,inverted:!0,textAlign:"center"},r.a.createElement(E.a,{name:"grid layout"}),"/hgg2d/ ipfs viewer",r.a.createElement(v.a.Subheader,null,"Copy paste ipfs repo link below, kudos to DL Site Previewer for parsing code.")),r.a.createElement(k.a,null),r.a.createElement(b.a,{fluid:!0,action:{color:"teal",labelPosition:"right",icon:"search",content:"Display",onClick:this.onDisplay},value:this.state.value,onChange:this.onChange})),r.a.createElement(I,{items:this.state.items}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(647);i.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[303,1,2]]]);
//# sourceMappingURL=main.2f9bc37b.chunk.js.map